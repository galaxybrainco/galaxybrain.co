<article id="post-510" class="post-510 page type-page status-publish hentry">
    <header class="entry-header">
        <h1 class="entry-title">1.3 Pattern Basics</h1>
    </header>
    <!-- .entry-header -->

    <div class="entry-content">
        <h2>Why use Patterns?</h2>

        <p>
            Player objects use Python lists, often known as arrays in other
            programming languages, to create sequences of values, such as pitch
            and durations. However, lists aren’t the most intuitive data
            structures for transformations. For example, try multiplying a list
            – what happens?
        </p>

        <div>
            <div id="highlighter_365805" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python functions"
                                            >print</code
                                        ><code class="python plain">([</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">] </code
                                        ><code class="python keyword">*</code>
                                        <code class="python value">2</code
                                        ><code class="python plain">)</code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            The result is the same list repeated twice! If you want to
            manipulate the internal values (e.g. double them) in Python, then
            here’s how you might do it:
        </p>

        <div>
            <div id="highlighter_564009" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain">values </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python spaces">&nbsp;</code
                                        >&nbsp;
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python comments"
                                            ># Use a loop</code
                                        >
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python plain"
                                            >my_list </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">[]</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python keyword">for</code>
                                        <code class="python plain">i </code
                                        ><code class="python keyword">in</code>
                                        <code class="python plain"
                                            >values:</code
                                        >
                                    </div>
                                    <div class="line number6 index5 alt1">
                                        <code class="python spaces"
                                            >&nbsp;&nbsp;&nbsp;&nbsp;</code
                                        ><code class="python plain"
                                            >my_list.append(i </code
                                        ><code class="python keyword">*</code>
                                        <code class="python value">2</code
                                        ><code class="python plain">)</code>
                                    </div>
                                    <div class="line number7 index6 alt2">
                                        <code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(my_list)</code
                                        >
                                    </div>
                                    <div class="line number8 index7 alt1">
                                        <code class="python spaces">&nbsp;</code
                                        >&nbsp;
                                    </div>
                                    <div class="line number9 index8 alt2">
                                        <code class="python comments"
                                            ># List comprehension</code
                                        >
                                    </div>
                                    <div class="line number10 index9 alt1">
                                        <code class="python functions"
                                            >print</code
                                        ><code class="python plain">([i</code
                                        ><code class="python keyword">*</code
                                        ><code class="python value">2</code>
                                        <code class="python keyword">for</code>
                                        <code class="python plain">i </code
                                        ><code class="python keyword">in</code>
                                        <code class="python plain"
                                            >values])
                                        </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            For both methods, it requires having to loop through all the values
            and multiply each one individually. Things get even more complicated
            if you also want to multiply every&nbsp;<em>second</em>&nbsp;value
            by a different number. This requires quite a lot of work, especially
            if you don’t know what numbers you’ll be using. This is where
            the&nbsp;<code>Pattern</code>&nbsp;class comes in.
        </p>

        <p>
            Patterns act like regular Python lists but any mathematical
            transformation performed on it is done to each item in the list. The
            simplest way to create a pattern is just to add an upper-case “P” to
            the start of a list:
        </p>

        <div>
            <div id="highlighter_58252" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >my_list&nbsp;&nbsp;&nbsp; </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >my_pattern </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            Now when you perform an operation, such as multiplication, you’ll
            get the transformed pattern:
        </p>

        <div>
            <div id="highlighter_12114" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(my_pattern </code
                                        ><code class="python keyword">*</code>
                                        <code class="python value">2</code
                                        ><code class="python plain">)</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">]</code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            You can also create a pattern as you would create any other Python
            object by using the class name followed by brackets with arguments:
        </p>

        <div>
            <div id="highlighter_885472" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >my_pattern </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain"
                                            >Pattern([</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">]) </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            Patterns are also “modulo index-able” which means that no matter
            what value we use as an index when accessing a Pattern’s data, as
            long as it’s an integer we get a value returned. If the index is
            greater than the length of the Pattern, then we just go back to the
            start of the Pattern and start looking:
        </p>

        <div>
            <div id="highlighter_990055" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; pat </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python value">2</code>
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python value">0</code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <h2>Transformations</h2>

        <p>
            You can perform an operation on a pattern using a list or another
            pattern to create more complex transformations. For example, adding
            together the
            patterns&nbsp;<code>P[0,&nbsp;1,&nbsp;2,&nbsp;3]</code>&nbsp;and&nbsp;<code>P[4,&nbsp;7]</code>&nbsp;will
            perform the operation&nbsp;<em>in turn</em>&nbsp;meaning the
            resulting pattern will be the
            result&nbsp;<code>P[0&nbsp;+&nbsp;4,&nbsp;1&nbsp;+&nbsp;7,&nbsp;2&nbsp;+&nbsp;4,&nbsp;3&nbsp;+&nbsp;7]</code>,
            which is&nbsp;<code>P[4,&nbsp;8,&nbsp;6,&nbsp;10]</code>. Using
            patterns of lengths with no common divisor will create a new pattern
            that contains all the combinations values:
        </p>

        <div>
            <div id="highlighter_711664" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">] </code
                                        ><code class="python keyword">+</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python keyword">-</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python keyword">-</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">8</code
                                        ><code class="python plain">, </code
                                        ><code class="python keyword">-</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            Patterns also have specific methods for transformation such
            as&nbsp;<code>rotate</code>,&nbsp;<code>reverse</code>,
            and&nbsp;<code>sort</code>&nbsp;that can be used to manipulate
            order:
        </p>

        <div>
            <div id="highlighter_399066" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; P[</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain"
                                            >].rotate()</code
                                        >
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; P[</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain"
                                            >].reverse()</code
                                        >
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; P[</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain"
                                            >].sort()</code
                                        >
                                    </div>
                                    <div class="line number6 index5 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            You can evaluate&nbsp;<code>help(Pattern)</code>&nbsp;to see more
            information about the methods.
        </p>

        <h2>Pattern Functions</h2>

        <p>
            There are a number of functions that return different Patterns.
            These generate longer Patterns only using a few arguments. To see a
            list of Pattern functions, you can
            evaluate&nbsp;<code>help(Patterns.Sequences)</code>.
        </p>

        <p>
            In Python, you can generate a range of integers with the
            syntax&nbsp;<code>range(start,&nbsp;stop,&nbsp;step)</code>. By
            default, start is 0 and step is 1. You can
            use&nbsp;<code>PRange(start,&nbsp;stop,&nbsp;step)</code>&nbsp;to
            create a Pattern object with the equivalent values:
        </p>

        <div>
            <div id="highlighter_919543" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(</code
                                        ><code class="python functions"
                                            >list</code
                                        ><code class="python plain">(</code
                                        ><code class="python functions"
                                            >range</code
                                        ><code class="python plain">(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">10</code>
                                        <code class="python value">2</code
                                        ><code class="python plain">)))</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">8</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(PRange(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">10</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">))</code>
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">8</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            And because these return instances
            of&nbsp;<code>Pattern</code>&nbsp;we can treat them as Pattern
            objects and use Pattern methods and perform arithmetic operations on
            them like so:
        </p>

        <div>
            <div id="highlighter_881121" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(PRange(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">10</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain"
                                            >).reverse() </code
                                        ><code class="python keyword">+</code>
                                        <code class="python plain">[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">9</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">8</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">10</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <h2>Concatenating Pattern</h2>

        <p>
            In Python, you would usually concatenate two lists (append one to
            another) by using the&nbsp;+&nbsp;operator but we’ve already seen
            that doing this with Patterns would add the values from one pattern
            to the contents of another. To concatenate two Pattern objects
            together, you can use the pipe symbol,&nbsp;<code>|</code>, which
            Linux users might be familiar with – it is used to connect command
            line programs by sending output from one process as input to
            another.
        </p>

        <div>
            <div id="highlighter_521455" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(PRange(</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">) | [</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">,</code
                                        ><code class="python value">7</code
                                        ><code class="python plain">,</code
                                        ><code class="python value">6</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">1</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <h2>Pattern lacing and PGroups</h2>

        <p>What happens when a Pattern contains a nested list like so?</p>

        <div>
            <div id="highlighter_263383" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; pat </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, [</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">]]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat)</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, P[</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">]] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            First of all, the nested list is converted into a pattern (and any
            nested lists&nbsp;<em>it</em>&nbsp;might have contained are also
            converted). If we try and access the nested pattern here is what
            happens:
        </p>

        <div>
            <div id="highlighter_937153" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python value">0</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python value">2</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number6 index5 alt1">
                                        <code class="python value">3</code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            That’s strange…? You’d be forgiven for thinking the last line would
            return&nbsp;<code>P[3,&nbsp;5]</code>&nbsp;because that’s the object
            in the third slot of&nbsp;<code>pat</code>&nbsp;but that’s not how
            Patterns behave. Patterns are&nbsp;<em>laced</em>&nbsp;which means
            that the values of the nested Patterns are returned when its parent
            Pattern is accessed. To access the second value of the nested
            pattern in the example above we need to loop through the Pattern a
            second time i.e. use an index value greater than the length of the
            Pattern:
        </p>

        <div>
            <div id="highlighter_669307" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python keyword">for</code>
                                        <code class="python plain">i </code
                                        ><code class="python keyword">in</code>
                                        <code class="python functions"
                                            >range</code
                                        ><code class="python plain">(</code
                                        ><code class="python value">6</code
                                        ><code class="python plain">):</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain"
                                            >(pat[i],)</code
                                        >
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            Due to this, when print the length of a Pattern, you will see the
            size of the Pattern as if it was expanded as it is above. If you use
            round brackets and nested a tuple of values, you will find something
            very different happens:
        </p>

        <div>
            <div id="highlighter_438242" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; pat </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, (</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">)]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat)</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, P(</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">)] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            The last item in the pattern is known as
            a&nbsp;<code>PGroup</code>&nbsp;and is used to keep values within a
            pattern together i.e. not laced:
        </p>

        <div>
            <div id="highlighter_296425" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python value">0</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">1</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python value">2</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat[</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">])</code>
                                    </div>
                                    <div class="line number6 index5 alt1">
                                        <code class="python plain">P(</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">) </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            Grouping values together means that they are played at the same time
            and this comes in really handy when you want to play notes together
            e.g. chords:
        </p>

        <div>
            <div id="highlighter_259289" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >p1 &gt;&gt; pluck([(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">), (</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain"
                                            >)], dur</code
                                        ><code class="python keyword">=</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">) </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <p>
            You can add tuples/&nbsp;<code>PGroup</code>s to a Pattern to create
            a new pattern of&nbsp;<code>PGroup</code>&nbsp;items:
        </p>

        <div>
            <div id="highlighter_860785" class="syntaxhighlighter python">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tbody>
                        <tr>
                            <td class="code">
                                <div class="container">
                                    <div class="line number1 index0 alt2">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; pat </code
                                        ><code class="python keyword">=</code>
                                        <code class="python plain">P[</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">]</code>
                                    </div>
                                    <div class="line number2 index1 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat </code
                                        ><code class="python keyword">+</code>
                                        <code class="python plain">(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">))</code>
                                    </div>
                                    <div class="line number3 index2 alt2">
                                        <code class="python plain">P[P(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">3</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">5</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">4</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">6</code
                                        ><code class="python plain">)]</code>
                                    </div>
                                    <div class="line number4 index3 alt1">
                                        <code class="python plain"
                                            >&gt;&gt;&gt; </code
                                        ><code class="python functions"
                                            >print</code
                                        ><code class="python plain">(pat </code
                                        ><code class="python keyword">+</code>
                                        <code class="python plain">[(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">), (</code
                                        ><code class="python value">2</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">4</code
                                        ><code class="python plain">)])</code>
                                    </div>
                                    <div class="line number5 index4 alt2">
                                        <code class="python plain">P[P(</code
                                        ><code class="python value">0</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">2</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">5</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">7</code
                                        ><code class="python plain">), P(</code
                                        ><code class="python value">6</code
                                        ><code class="python plain">, </code
                                        ><code class="python value">8</code
                                        ><code class="python plain">)] </code>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!-- .entry-content -->
</article>
